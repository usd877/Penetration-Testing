# Отчет по тестированию на проникновение: OSINT и Сканирование цели

## 1. Введение
**Дата тестирования:** 1 марта 2025 года  
**Объект тестирования:** Веб-сервис, доступный по IP-адресу 92.51.39.106  
**Метод тестирования:** Black Box (OSINT и сканирование)  
**Используемые инструменты:** Google Dorking, Whois, Shodan, theHarvester, WhatWeb, Nikto, Nmap, Gobuster, SQLMap, OWASP ZAP (автотесты)

## 2. Сканирование хоста
В ходе тестирования был выполнен сканинг хоста с использованием Nmap для выявления открытых портов и определения версий сервисов. Хост 92.51.39.106 оказался доступен с минимальной задержкой (0.0017 с).

### Открытые порты:
- **Порт 22 (SSH):** Открыт, используется OpenSSH 8.2p1 (Ubuntu 4ubuntu0.12).

### Закрытые порты:
- 999 портов не ответили (фильтруются).

## 3. Этап 1: OSINT (Open Source Intelligence)
### 3.1. Google Dorking
**Результаты:**  
- Скрытые страницы: Не найдены.  
- Конфиденциальные файлы: Не обнаружены.  

### 3.2. Whois-запрос
**Результаты:**  
- **Владелец:** Igor Gilmutdinov  
- **Провайдер:** TimeWeb  
- **Страна:** Россия (RU)  
- **Контакты:** abuse@timeweb.ru  
- **Телефон:** +7 812 2481081, +7 495 0331081  

## 4. Этап 2: Сканирование и анализ уязвимостей

### 4.1. WhatWeb Scan
**Результаты:**  
- HTTP-сервер: TornadoServer 5.1.1  
- Используемые технологии: HTML5, jQuery, Lightbox, JavaScript  
- Заголовок страницы: Beemer  

### 4.2. Nikto Scan
**Результаты:**  
- Отсутствует заголовок X-Frame-Options (возможны clickjacking-атаки).  
- Отсутствует заголовок X-Content-Type-Options.  
- Обнаружена страница /login.html.  

### 4.3. Nmap Scan
**Результаты:**  
- Открыт порт 22 (SSH, OpenSSH 8.2p1).  
- ОС: Linux 2.4.X (устаревшая версия).  

### 4.4. Gobuster Scan
**Результаты:**  
- Доступны страницы: /search, /read, /index_html.  
- Страница /upload возвращает ошибку 405 (Method Not Allowed).  

## 5. Автотесты с использованием OWASP ZAP

### Запуск тестов

Использовался следующий скрипт для сканирования:

```python
import time
from zapv2 import ZAPv2

target_url = "http://92.51.39.106"
api_key = "your_api_key"

zap = ZAPv2(apikey=api_key)
zap.urlopen(target_url)

scan_id = zap.ascan.scan(target_url)

while int(zap.ascan.status(scan_id)) < 100:
    print(f"Прогресс сканирования: {zap.ascan.status(scan_id)}%")
    time.sleep(5)

print("Сканирование завершено.")
alerts = zap.core.alerts(baseurl=target_url)
print(f"Найдено уязвимостей: {len(alerts)}")
```

### Результаты автотестов

Сканирование OWASP ZAP выявило следующие проблемы:
- Отсутствие HTTP-заголовков безопасности.
- Возможность SQL-инъекций.

## 6. Уязвимости

**OpenSSH 8.2p1:**  
- **CVE-2023-38408 (оценка 9.8/10):** Удалённое выполнение кода через SSH.  
- Найденные эксплойты доступны на Vulners.  

## 7. Заключение

Выявлены критические уязвимости:  
- **SQL-инъекция (обход аутентификации).**  
- **XSS (внедрение JavaScript).**  
- **Отсутствие защитных заголовков HTTP.**  
- **Устаревшие версии ОС и сервисов.**  

**Рекомендации:**  
- Обновить OpenSSH до последней версии.  
- Исправить XSS и SQL-инъекции.  
- Настроить защитные заголовки HTTP.  
